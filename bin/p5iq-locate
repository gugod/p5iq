#!/usr/bin/env perl
use v5.18;
use warnings;

use FindBin;
use lib "${FindBin::Bin}/../local/lib/perl5";
use lib "${FindBin::Bin}/../lib";

use P5iq::Search;

use Getopt::Long;

GetOptions(
    "s|size=i" => \(my $size = 10),
    "symbol" => \(my $symbol),
    "sub-named" => \(my $sub_named),
    "hash-keys" => \(my $hash_keys),
);

my $query_string = shift // die "No query string...";
if( $hash_keys ){
    P5iq::Search::locate_symbols_hash_keys($query_string, $size);
}
else{
    P5iq::Search::locate_symbols($query_string, $size, $symbol, $sub_named, $hash_keys);
}

